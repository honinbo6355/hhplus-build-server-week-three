í•­í•´ í”ŒëŸ¬ìŠ¤ 3ì£¼ì°¨ ê³¼ì œ - ì„œë²„ êµ¬ì¶•

# ì½˜ì„œíŠ¸ ì˜ˆì•½ ì„œë¹„ìŠ¤

<aside>
ğŸ’¡ ì•„ë˜ ëª…ì„¸ë¥¼ ì˜ ì½ì–´ë³´ê³ , ì„œë²„ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.

</aside>

## Description

- **ì½˜ì„œíŠ¸ ì˜ˆì•½ ì„œë¹„ìŠ¤**ë¥¼ êµ¬í˜„í•´ ë´…ë‹ˆë‹¤.
- ëŒ€ê¸°ì—´ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³ , ì˜ˆì•½ ì„œë¹„ìŠ¤ëŠ” ì‘ì—…ê°€ëŠ¥í•œ ìœ ì €ë§Œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•©ë‹ˆë‹¤.
- ~~ì‚¬ìš©ìëŠ” ì¢Œì„ì˜ˆì•½ ì‹œì— ë¯¸ë¦¬ ì¶©ì „í•œ ì”ì•¡ì„ ì´ìš©í•©ë‹ˆë‹¤.~~
- ì¢Œì„ ì˜ˆì•½ ìš”ì²­ì‹œì—, ê²°ì œê°€ ì´ë£¨ì–´ì§€ì§€ ì•Šë”ë¼ë„ ì¼ì • ì‹œê°„ë™ì•ˆ ë‹¤ë¥¸ ìœ ì €ê°€ í•´ë‹¹ ì¢Œì„ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ í•©ë‹ˆë‹¤.

## Requirements

- ì•„ë˜ 5ê°€ì§€ API ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.
    - ìœ ì € í† í° ë°œê¸‰ API
    - ì˜ˆì•½ ê°€ëŠ¥ ë‚ ì§œ / ì¢Œì„ API
    - ì¢Œì„ ì˜ˆì•½ ìš”ì²­ API
    - ì”ì•¡ ì¶©ì „ / ì¡°íšŒ API
    - ê²°ì œ API
- ê° ê¸°ëŠ¥ ë° ì œì•½ì‚¬í•­ì— ëŒ€í•´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ë°˜ë“œì‹œ í•˜ë‚˜ ì´ìƒ ì‘ì„±í•˜ë„ë¡ í•©ë‹ˆë‹¤.
- ë‹¤ìˆ˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë™ì‘í•˜ë”ë¼ë„ ê¸°ëŠ¥ì— ë¬¸ì œê°€ ì—†ë„ë¡ ì‘ì„±í•˜ë„ë¡ í•©ë‹ˆë‹¤.
- ë™ì‹œì„± ì´ìŠˆë¥¼ ê³ ë ¤í•˜ì—¬ êµ¬í˜„í•©ë‹ˆë‹¤.
- ëŒ€ê¸°ì—´ ê°œë…ì„ ê³ ë ¤í•´ êµ¬í˜„í•©ë‹ˆë‹¤.

## API Specs

1ï¸âƒ£Â `**ì£¼ìš”` ìœ ì € ëŒ€ê¸°ì—´ í† í° ê¸°ëŠ¥**

- ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  í† í°ì„ ë°œê¸‰ë°›ëŠ” APIë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
- í† í°ì€ ìœ ì €ì˜ UUID ì™€ í•´ë‹¹ ìœ ì €ì˜ ëŒ€ê¸°ì—´ì„ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ì •ë³´ ( ëŒ€ê¸° ìˆœì„œ or ì”ì—¬ ì‹œê°„ ë“± ) ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
- ì´í›„ ëª¨ë“  API ëŠ” ìœ„ í† í°ì„ ì´ìš©í•´ ëŒ€ê¸°ì—´ ê²€ì¦ì„ í†µê³¼í•´ì•¼ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.

> ê¸°ë³¸ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ê°€ í´ë§ìœ¼ë¡œ ë³¸ì¸ì˜ ëŒ€ê¸°ì—´ì„ í™•ì¸í•œë‹¤ê³  ê°€ì •í•˜ë©°, ë‹¤ë¥¸ ë°©ì•ˆ ë˜í•œ ê³ ë ¤í•´ë³´ê³  êµ¬í˜„í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

**2ï¸âƒ£Â `ê¸°ë³¸` ì˜ˆì•½ ê°€ëŠ¥ ë‚ ì§œ / ì¢Œì„ API**

- ì˜ˆì•½ê°€ëŠ¥í•œ ë‚ ì§œì™€ í•´ë‹¹ ë‚ ì§œì˜ ì¢Œì„ì„ ì¡°íšŒí•˜ëŠ” API ë¥¼ ê°ê° ì‘ì„±í•©ë‹ˆë‹¤.
- ì˜ˆì•½ ê°€ëŠ¥í•œ ë‚ ì§œ ëª©ë¡ì„ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë‚ ì§œ ì •ë³´ë¥¼ ì…ë ¥ë°›ì•„ ì˜ˆì•½ê°€ëŠ¥í•œ ì¢Œì„ì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> ì¢Œì„ ì •ë³´ëŠ” 1 ~ 50 ê¹Œì§€ì˜ ì¢Œì„ë²ˆí˜¸ë¡œ ê´€ë¦¬ë©ë‹ˆë‹¤.
> 

3ï¸âƒ£Â `**ì£¼ìš”` ì¢Œì„ ì˜ˆì•½ ìš”ì²­ API**

- ë‚ ì§œì™€ ì¢Œì„ ì •ë³´ë¥¼ ì…ë ¥ë°›ì•„ ì¢Œì„ì„ ì˜ˆì•½ ì²˜ë¦¬í•˜ëŠ” API ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
- ì¢Œì„ ì˜ˆì•½ê³¼ ë™ì‹œì— í•´ë‹¹ ì¢Œì„ì€ ê·¸ ìœ ì €ì—ê²Œ ì•½ 5ë¶„ê°„ ì„ì‹œ ë°°ì •ë©ë‹ˆë‹¤. ( ì‹œê°„ì€ ì •ì±…ì— ë”°ë¼ ììœ¨ì ìœ¼ë¡œ ì •ì˜í•©ë‹ˆë‹¤. )
- ë°°ì • ì‹œê°„ ë‚´ì— ê²°ì œê°€ ì™„ë£Œë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì¢Œì„ì— ëŒ€í•œ ì„ì‹œ ë°°ì •ì€ í•´ì œë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
- ë°°ì • ì‹œê°„ ë‚´ì—ëŠ” ë‹¤ë¥¸ ì‚¬ìš©ìëŠ” ì˜ˆì•½í•  ìˆ˜ ì—†ì–´ì•¼ í•©ë‹ˆë‹¤.

4ï¸âƒ£Â `**ê¸°ë³¸`**  **ì”ì•¡ ì¶©ì „ / ì¡°íšŒ API** ( ëŒ€ê¸°ì—´ í† í° ê²€ì¦ x )

- ê²°ì œì— ì‚¬ìš©ë  ê¸ˆì•¡ì„ API ë¥¼ í†µí•´ ì¶©ì „í•˜ëŠ” API ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
- ì‚¬ìš©ì ì‹ë³„ì ë° ì¶©ì „í•  ê¸ˆì•¡ì„ ë°›ì•„ ì”ì•¡ì„ ì¶©ì „í•©ë‹ˆë‹¤.
- ì‚¬ìš©ì ì‹ë³„ìë¥¼ í†µí•´ í•´ë‹¹ ì‚¬ìš©ìì˜ ì”ì•¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

5ï¸âƒ£Â `**ì£¼ìš”` ê²°ì œ API**

- ê²°ì œ ì²˜ë¦¬í•˜ê³  ê²°ì œ ë‚´ì—­ì„ ìƒì„±í•˜ëŠ” API ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
- ê²°ì œê°€ ì™„ë£Œë˜ë©´ í•´ë‹¹ ì¢Œì„ì˜ ì†Œìœ ê¶Œì„ ìœ ì €ì—ê²Œ ë°°ì •í•˜ê³  ëŒ€ê¸°ì—´ í† í°ì„ ë§Œë£Œì‹œí‚µë‹ˆë‹¤.

<aside>
ğŸ’¡ **KEY POINT**

</aside>

- ìœ ì €ê°„ ëŒ€ê¸°ì—´ì„ ìš”ì²­ ìˆœì„œëŒ€ë¡œ ì •í™•í•˜ê²Œ ì œê³µí•  ë°©ë²•ì„ ê³ ë¯¼í•´ ë´…ë‹ˆë‹¤.
- ë™ì‹œì— ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ì˜ˆì•½ ìš”ì²­ì„ í–ˆì„ ë•Œ, ì¢Œì„ì´ ì¤‘ë³µìœ¼ë¡œ ë°°ì • ê°€ëŠ¥í•˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.

# ERD
https://private-user-images.githubusercontent.com/29749722/319140201-a8f9c6f4-f701-4b0d-9649-604e192b7f8d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIxMzk0MTksIm5iZiI6MTcxMjEzOTExOSwicGF0aCI6Ii8yOTc0OTcyMi8zMTkxNDAyMDEtYThmOWM2ZjQtZjcwMS00YjBkLTk2NDktNjA0ZTE5MmI3ZjhkLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MDMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDAzVDEwMTE1OVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTgxYTRiMTkzMzI5OWYyYjZmMmI1NmY5ZjA4YTQxZGQ1MzE0OGUyMTA3YmYxMzczYzkzNTE2MGE5ZWM2Yzk2MjYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.zs_Cr3CpnNZRAzupc8TiltTRxnMAhD5oR52tG2cLLM0

# Milestone
- í•˜ë£¨=8h, 8*5ì¼=40h
1. dummy ë°ì´í„° ìƒì„± : 3h ( ~ 4ì›”7ì¼) 
2. ì”ì•¡ ì¶©ì „ API : 5h ( ~ 4ì›”7ì¼) <br/>
   2-1. API êµ¬í˜„ <br/>
   2-2. ìœ ë‹› í…ŒìŠ¤íŠ¸ <br/>
3. ì”ì•¡ ì¡°íšŒ API : 4h ( ~ 4ì›”8ì¼) <br/>
   3-1. API êµ¬í˜„ <br/>
   3-2. ìœ ë‹› í…ŒìŠ¤íŠ¸ <br/>
4. ì˜ˆì•½ ê°€ëŠ¥ ë‚ ì§œ ì¡°íšŒ API : 4h ( ~ 4ì›”8ì¼) <br/>
   4-1. API êµ¬í˜„ <br/>
   4-2. ìœ ë‹› í…ŒìŠ¤íŠ¸ <br/>
5. ì˜ˆì•½ ê°€ëŠ¥í•œ ì¢Œì„ ì¡°íšŒ API : 4h ( ~ 4ì›”9ì¼) <br/>
   5-1. API êµ¬í˜„ <br/>
   5-2. ìœ ë‹› í…ŒìŠ¤íŠ¸ <br/>
6. ì¢Œì„ ì˜ˆì•½ ìš”ì²­ API : 5h ( ~ 4ì›”10ì¼) <br/>
   6-1. API êµ¬í˜„ <br/>
   6-2. ìœ ë‹› í…ŒìŠ¤íŠ¸ <br/>
7. ìœ ì € í† í° ë°œê¸‰ API : 12h ( ~ 4ì›”12ì¼) <br/>
   7-1. API êµ¬í˜„ <br/>
   7-2. ìœ ë‹› í…ŒìŠ¤íŠ¸ <br/>

=============== ë‹¤ìŒ ì£¼ì°¨ =============== </br>
8. ì¢Œì„ ì„ì‹œ ë°°ì • 5ë¶„ ê²€ì¦ Polling êµ¬í˜„ <br/> <br/>
9. ì”ì—¬ ì‹œê°„ ê²€ì¦ Polling êµ¬í˜„ <br/> <br/>
10. dummy ëŒ€ê¸°ì—´ ì¶”ê°€ Polling êµ¬í˜„ <br/> <br/>
11. í†µí•©í…ŒìŠ¤íŠ¸ <br/> <br/>

## Sequence Diagram

### ìœ ì € í† í° ë°œê¸‰
![image](https://github.com/honinbo6355/hhplus-build-server-week-three/assets/29749722/be43a603-ff2e-44c4-9a01-68dbe47de1ef)

### ìœ ì € í† í° ì¡°íšŒ
![image](https://github.com/honinbo6355/hhplus-build-server-week-three/assets/29749722/640d697a-ecb7-45b8-aaa1-73efa0996bef)

### ì˜ˆì•½ ê°€ëŠ¥ ë‚ ì§œ ì¡°íšŒ
![image](https://github.com/honinbo6355/hhplus-build-server-week-three/assets/29749722/cf9a972e-26b6-4b24-a4c7-ca41b4e039d1)

### ì˜ˆì•½ ê°€ëŠ¥ ì¢Œì„ ì¡°íšŒ
![image](https://github.com/honinbo6355/hhplus-build-server-week-three/assets/29749722/a3e0e445-56c6-44ca-8aa1-446ebc0597cf)

### ì¢Œì„ ì˜ˆì•½ ìš”ì²­
![image](https://github.com/honinbo6355/hhplus-build-server-week-three/assets/29749722/f9a63529-1037-4cf8-a47a-fce43688bf8e)

### ì”ì•¡ ì¶©ì „
![image](https://github.com/honinbo6355/hhplus-build-server-week-three/assets/29749722/76e2e38c-8a75-43a9-b45d-b97b9deb9b13)

### ì”ì•¡ ì¡°íšŒ
![image](https://github.com/honinbo6355/hhplus-build-server-week-three/assets/29749722/5f1037ae-0973-4435-86f3-00536e2a7abd)

### ê²°ì œ
![image](https://github.com/honinbo6355/hhplus-build-server-week-three/assets/29749722/9f38d5ec-1e17-475b-965a-f078ac952ef6)

## API Interface

### ìœ ì € í† í° ë°œê¸‰ API

**POST /api/users/token**
- request body
```
{
    "userId": 1
}
```

- response body
```
{
    "result": {
        "userUuid": "550e8400-e29b-41d4-a716-446655440000"
    },
    "error": null
}
```

### ìœ ì € í† í° ì¡°íšŒ API

**GET /api/users/token**

- request header
   
```
userUuid="550e8400-e29b-41d4-a716-446655440000",
```


- response body
```
{
    "result": {
        "waitingCount": 50, // ì•ì— ëŒ€ê¸°ì¤‘ì¸ ìœ ì €ìˆ˜
        "rank": 15, // ë‚´ ìˆœì„œ
        "status": "WAITING" // WAITINGì´ë©´ ëŒ€ê¸°, IN_PROGRESSë©´ ì§„ì…
    },
    "error": null
}
```

### ì˜ˆì•½ ê°€ëŠ¥ ë‚ ì§œ ì¡°íšŒ API

**GET /api/concert/{concertDetailId}/date**

- request header
   
```
userUuid="550e8400-e29b-41d4-a716-446655440000",
```


- response body
```
{
    "result": ["2024-03-01 11:30:00", "2024-03-12 14:30:00", "2024-03-17 17:30:00"],
    "error": null
}
```

### ì˜ˆì•½ ê°€ëŠ¥í•œ ì¢Œì„ ì¡°íšŒ API

**GET /api/concert/{concertDetailId}/seat**

- request header

```
userUuid="550e8400-e29b-41d4-a716-446655440000",
```

- response body
```
{
    "result": ["S1", "S3", "S5"],
    "error": null
}
```

### ì¢Œì„ ì˜ˆì•½ ìš”ì²­ API

**POST /api/reservations**

- request header
   
```
userUuid="550e8400-e29b-41d4-a716-446655440000",
```

- request body
```
{
    "concertDetailId": 1,
    "seatNum": "S1"
}
```

- response body
```
{
    "result": "SUCCESS",
    "error": null
}
```

### ì”ì•¡ ì¶©ì „ API

**PATCH /api/users/point**

- request body
```
{
    "userId": 1,
    "point": 5000
}
```

- response body
```
{
    "result": "SUCCESS",
    "error": null
}
```

### ì”ì•¡ ì¡°íšŒ API

**GET /api/users/{userId}/point**

- response body
```
{
    "result": {
        "userId": 1,
        "point": 5000
    },
    "error": null
}
```

### ê²°ì œ API

**POST /api/payment**

- request header
   
```
userUuid="550e8400-e29b-41d4-a716-446655440000",
```

- request body
```
{
    "reservationId": 1,
    "point": 5000
}
```

- response body
```
{
    "result": "SUCCESS",
    "error": null
}
```
